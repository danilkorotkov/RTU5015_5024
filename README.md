# RTU5015_5024
ВАЖНО! Для экономии закомментирована часть кода в классе MC35, которая отвечает за win кодировку.
Если вы будете компилировать скетч под виндой, то нужно будет внести изменения. 


Китайский клон 5015 под маркой 5024
[ССЫЛКА](https://aliexpress.ru/item/33056496651.html?spm=a2g0s.9042311.0.0.264d33edMtZCOJ)

Фото

![](https://github.com/danilkorotkov/RTU5015_5024/blob/master/img/5015.png)

Распиновка

![](https://github.com/danilkorotkov/RTU5015_5024/blob/master/img/pinout.jpg)

Фьюзы

![](https://github.com/danilkorotkov/RTU5015_5024/blob/master/img/fuses.png)


Итак, купил я 20 таких китайских поделок с обещанием на 999 номеров

Реверс инжиниринг показал, что номера хранятся в 20 байтном формате в еепромке 4К итого 200 номеров
Запаяли не те микросхемы и в итоге запись далее 200 затирает имеющиеся номера.
Так же сигналка штука бесполезная, поскольку на обработку смс уходит около 40 секунд и модуль легко подвесить, отправив пару-тройку смс на него, после чего он перестает вообще отвечать. То есть сигналка минимум 40 секунд не опрашивается. На атмеге 16 ее повесили на пины, где нет прерываний, круто, че

Подав спор, я забрал 20 баксов как компенсацию за несоотвествие описанию и написал свою прошивку

Теперь модуль хранит 680 номеров в сжатом формате, сигналка выпилена за ненадобностью, добавил перезагрузку по WDR и перезагрузку зависшего модуля.

Модуль там Siemens 35/39 в разных TC/MC i/без i. Зоопарк короче из бушных заляпаных модемов(реально так и есть!) начала 2000х годов выпуска.

Что еще добавил: русские ответы.
Что убрал: ответы об ошибке как в зрелом 5025/ убрал ВСЕ уведомления о смене состояния реле, в итоге получилась достаточно надежная открывашка для ворот.


![](https://github.com/danilkorotkov/RTU5015_5024/blob/master/img/SMS.png)

Для ардуино установить обязательно https://mcudude.github.io/MightyCore/package_MCUdude_MightyCore_index.json

![](https://github.com/danilkorotkov/RTU5015_5024/blob/master/img/18801447.png)


